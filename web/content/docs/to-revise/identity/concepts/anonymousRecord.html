<h2 id="overview">Overview</h2>

<p>DADI Identity stores a series of markers along with a generated UUID in order to facilitate session persistence and to provide a gurentee of UUID uniqueness.</p>

<p>The issuing of a UUID is not dependant on the stored markers. UUIDs are issued in response to a request to the platform and are generated independantly in the platform.</p>

<p>DADI Identity issues-forwards, meaning that new requests for UUIDs are <em>always</em> answered with a new UUID.</p>

<p>Stored markers are used as a method of chaining issued UUIDs based on confidence scoring. Previous matches are linked as a child along with a confidence metric. This approach allows for the interrogation of a deeper data set in those cases where a UUID is not persisted over term, although our confidence in this data will be lower.</p>

<h2 id="record-structure">Record structure</h2>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Value</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>uuid</td>
      <td>String</td>
      <td>An RFC 4122 V4 UUID. The unique and gaurenteed identifier for the anonymous user</td>
    </tr>
    <tr>
      <td>device</td>
      <td>String</td>
      <td>The generated fingerprint for the requesting device <a href="https://github.com/dadi/identity/blob/docs/docs/deviceFingerprint.md">More information</a></td>
    </tr>
    <tr>
      <td>location</td>
      <td>String</td>
      <td>The generated fingerprint for the location of the requesting device <a href="https://github.com/dadi/identity/blob/docs/docs/locationFingerprint.md">More information</a></td>
    </tr>
    <tr>
      <td>network</td>
      <td>String</td>
      <td>The generated fingerprint for the network of the requesting device <a href="https://github.com/dadi/identity/blob/docs/docs/networkFingerprint.md">More information</a></td>
    </tr>
    <tr>
      <td>providor</td>
      <td>String</td>
      <td>The generated fingerprint for the network providor of the requesting device <a href="https://github.com/dadi/identity/blob/docs/docs/providorFingerprint.md">More information</a></td>
    </tr>
    <tr>
      <td>language</td>
      <td>String</td>
      <td>The generated fingerprint for the language of the requesting device <a href="https://github.com/dadi/identity/blob/docs/docs/languageFingerprint.md">More information</a></td>
    </tr>
    <tr>
      <td>agent</td>
      <td>String</td>
      <td>The generated fingerprint for the agent of the requesting device <a href="https://github.com/dadi/identity/blob/docs/docs/agentFingerprint.md">More information</a></td>
    </tr>
    <tr>
      <td>protocol</td>
      <td>String</td>
      <td>The generated fingerprint for the internet protocoal (IP) of the requesting device <a href="https://github.com/dadi/identity/blob/docs/docs/protocolFingerprint.md">More information</a></td>
    </tr>
    <tr>
      <td>created</td>
      <td>String</td>
      <td>The ISO formatted date that the record was created</td>
    </tr>
    <tr>
      <td>lastSeen</td>
      <td>String</td>
      <td>The ISO formatted date that the record was last seen by the system</td>
    </tr>
    <tr>
      <td>matched</td>
      <td>Object</td>
      <td>Matched UUIDs, trailing based on the issue-forward approach of the system</td>
    </tr>
    <tr>
      <td>confidence</td>
      <td>Number</td>
      <td>The confidence score applied to the match. Confidence scores are generated by the system based on a self-assessment routine run periodically. <a href="https://github.com/dadi/identity/blob/docs/docs/confidenceScoring.md">More information</a></td>
    </tr>
  </tbody>
</table>

<h2 id="example-records">Example records</h2>

<p>An example record:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"uuid"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2c230e62-e19d-49ea-93ab-5841e22ab5d7"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"device"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"e7a76c81f52a51a764691512bc91a3da"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"location"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"1540753655"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"network"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"-438796388"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"providor"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"-1312487441"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"language"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"-860819097"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"agent"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"969972343"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"protocol"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"-1507675173"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"created"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-02-10T14:45:05.854+0000"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"lastSeen"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-02-10T15:25:18.854+0000"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>An example record with children:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"uuid"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2c230e62-e19d-49ea-93ab-5841e22ab5d7"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"device"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"e7a76c81f52a51a764691512bc91a3da"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"location"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"1540753655"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"network"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"-438796388"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"providor"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"-1312487441"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"language"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"-860819097"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"agent"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"969972343"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"protocol"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"-1507675173"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"created"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-02-10T14:45:05.854+0000"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"lastSeen"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-02-10T15:25:18.854+0000"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"matched"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
	   </span><span class="p">{</span><span class="w">
	     </span><span class="nt">"uuid"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2fced4c8-a552-471f-8a31-258d3f316818"</span><span class="p">,</span><span class="w">
	     </span><span class="nt">"confidence"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"95.72"</span><span class="w">
	   </span><span class="p">},</span><span class="w">
	   </span><span class="p">{</span><span class="w">
	     </span><span class="nt">"uuid"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"502338f2-cfca-4c96-bd50-f1c5ba82461b"</span><span class="p">,</span><span class="w">
	     </span><span class="nt">"confidence"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"96.48"</span><span class="w">
	   </span><span class="p">},</span><span class="w">
	   </span><span class="p">{</span><span class="w">
	     </span><span class="nt">"uuid"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2cab1818-a22a-4943-afaa-75e9ce96eccd"</span><span class="p">,</span><span class="w">
	     </span><span class="nt">"confidence"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"87.44"</span><span class="w">
	   </span><span class="p">},</span><span class="w">
	   </span><span class="p">{</span><span class="w">
	     </span><span class="nt">"uuid"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"b660abb7-ac4a-4717-a96d-86c611710ec7"</span><span class="p">,</span><span class="w">
	     </span><span class="nt">"confidence"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"97.55"</span><span class="w">
	   </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>
