<!DOCTYPE html>
<html>
	<head>
  <meta charset="utf-8">  
  <meta name="author" content="dadi.co">  
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Welcome</title>
  <link rel="stylesheet" type="text/css" href="/css/main.css">
</head>

	<body>

	  <header class="c-header c-header--acollapsed">
  <div class="c-header__inner-wrapper u-cols">
    <div class="u-col u-col--1-1 u-col--2-3@medium">
      <a href="/">
        <img class="c-header__logo" src="/public/assets/img/dadi.png" alt="DADI">
      </a>

      <h2 class="c-header__title">Developer support</h2>
      <p class="c-header__subtitle">Tutorials and documentation</p>    
    </div>

    <div class="c-header__top u-col u-col--1-1 u-col--1-3@medium">
      <ul class="c-header__links">
        <li class="c-header__link">
          <a href="http://twitter.com/dadi">@DADI</a>
        </li>
        <li class="c-header__link">
          <a href="mailto:dev@dadi.tech">dev@dadi.tech</a>
        </li>
      </ul>

      
    </div>    

    
      <div class="u-col u-col--1-1">
        <div class="c-combo">
  <label class="c-combo__item c-combo__item--expand c-text-field-container">
    <span class="c-text-field__icon fa fa-search"></span>
    <input class="c-text-field" type="text" placeholder="Search our help centre…" />
  </label>
  <button class="c-combo__item c-button c-button--blue" type="submit">Search</button>
</div>
      </div>
    
  </div>
</header>

	  <style>
body {
  font-family: sans-serif;
  color: #4d5d6a;
}



</style>

<p>With your <a href="sources.md">sources</a> configured so that CDN knows where to find them, you can start sending requests for your assets and images.</p>

<p>CDN currently responds to two types of URL scheme. One, the Path URL scheme, is a legacy format and exists for backwards compatibility with early-adoption client applications. The other, the Querystring URL scheme, is succinct, flexible and robust.</p>

<blockquote>
  <p>The Querystring URL scheme is the preferred format and is where future development efforts will be focused. In the event that new image manipulation parameters are added to CDN, the Querystring URL scheme will be the only format that supports them.</p>
</blockquote>

<h3 id="the-url-schemes">The URL schemes</h3>

<p>While the Querystring URL scheme is preferred for new applications, both are documented here. If you don’t need details about the Path URL scheme, <a href="#querystring-url-scheme">jump right to the Querystring URL scheme</a>.</p>

<blockquote>
  <p>For a complete guide to the image and asset manipulation parameters, see the <a href="x">URL API Guide</a>.</p>
</blockquote>

<h4 id="path-url-scheme">Path URL scheme</h4>

<p>Version 1.0.0-Beta of CDN used the URL path for specifying parameters. In this scheme, there are 17 parameters that can be used to manipulate images and 1 parameter for assets.</p>

<p><strong>Serving Images via the Path URL</strong></p>
<div class="code-callout">
  <code>https://</code>
  <span class="callout">
    <code>cdn.example.com</code>
    <span class="definition">CDNa domain</span>
  </span>
  <code>/</code>
  <span class="callout">
    <code>jpg</code>
    <span class="definition">format</span>
  </span>
  <code>/</code>
  <span class="callout">
    <code>80</code>
    <span class="definition">quality</span>
  </span>
  <code>/</code>
  <span class="callout">
    <code>0</code>
    <span class="definition">trim</span>
  </span>
  <code>/</code>
  <span class="callout stagger">
    <code>0</code>
    <span class="definition">trimFuzz</span>
  </span>
  <code>/</code>
  <span class="callout">
    <code>640</code>
    <span class="definition">width</span>
  </span>
  <code>/</code>
  <span class="callout">
    <code>480</code>
    <span class="definition">height</span>
  </span>
  <code>/</code>
  <span class="callout">
    <code>10</code>
    <span class="definition">crop-x</span>
  </span>
  <code>/</code>
  <span class="callout">
    <code>10</code>
    <span class="definition">crop-y</span>
  </span>
  <code>/</code>
  <span class="callout">
    <code>16-9</code>
    <span class="definition">ratio</span>
  </span>
  <code>/</code>
  <span class="callout stagger">
    <code>1</code>
    <span class="definition">devicePixelRatio</span>
  </span>
  <code>/</code>
  <span class="callout">
    <code>aspectfill</code>
    <span class="definition">crop</span>
  </span>
  <code>/</code>
  <span class="callout">
    <code>[North](x)</code>
    <span class="definition">gravity</span>
  </span>
  <code>/</code>
  <span class="callout">
    <code>lanczos</code>
    <span class="definition">filter</span>
  </span>
  <code>/</code>
  <span class="callout">
    <code>3</code>
    <span class="definition">blur</span>
  </span>
  <code>/</code>
  <span class="callout">
    <code>0</code>
    <span class="definition">strip</span>
  </span>
  <code>/</code>
  <span class="callout">
    <code>45</code>
    <span class="definition">rotate</span>
  </span>
  <code>/</code>
  <span class="callout">
    <code>x</code>
    <span class="definition">flip</span>
  </span>
  <code>/</code>
  <span class="callout">
    <code>cars/aston-martin.jpg</code>
    <span class="definition">path</span>
  </span>
</div>

<p><strong>Serving Assets via the Path URL</strong></p>

<div class="code-callout">
  <code>https://</code>
  <span class="callout">
    <code>cdn.example.com</code>
    <span class="definition">CDN domain</span>
  </span>
  <code>/</code>
  <span class="callout">
    <code>css</code>
    <span class="definition">format</span>
  </span>
  <code>/</code>
  <span class="callout">
    <code>0</code>
    <span class="definition">compress</span>
  </span>
  <code>/</code>
  <span class="callout">
    <code>styles/main.css</code>
    <span class="definition">path</span>
  </span>
</div>

<h4 id="querystring-url-scheme">Querystring URL scheme</h4>

<p>Version 1.0.0 of CDN introduced this URL format for specifying parameters. You only need to supply the parameters you want to use, specifying as many or as few as you want.</p>

<blockquote>
  <p><strong>Note:</strong> The differentiation between the Path and Querystring URL schemes is the inclusion of a querystring (i.e. everything following the <code class="highlighter-rouge">?</code> in the URL). If you need to serve an image in it’s original, unmodified state, add a dummy querystring to the request to tell CDN you’re using the Querystring URL scheme. For example: <code class="highlighter-rouge">https://cdn.example.com/cars/aston-martin.jpg?v2</code></p>
</blockquote>

<p><strong>Serving Images via the Querystring URL</strong></p>

<div class="code-callout">
  <code>https://</code>
  <span class="callout">
    <code>cdn.example.com</code>
    <span class="definition">CDN domain</span>
  </span>
  <code>/</code>
  <span class="callout">
    <code>cars/aston-martin.jpg</code>
    <span class="definition">path</span>
  </span>
  <code>?</code>
  <span class="callout">
    <code>w=600&amp;h=400</code>
    <span class="definition">querystring parameters</span>
  </span>
</div>

<p><strong>Serving Assets via the Querystring URL</strong></p>

<div class="code-callout">
  <code>https://</code>
  <span class="callout">
    <code>cdn.example.com</code>
    <span class="definition">CDN domain</span>
  </span>
  <code>/</code>
  <span class="callout">
    <code>styles/main.css</code>
    <span class="definition">path</span>
  </span>
  <code>?</code>
  <span class="callout">
    <code>compress=0</code>
    <span class="definition">querystring parameters</span>
  </span>
</div>

<h4 id="locating-files">Locating Files</h4>

<p>There is one common piece to the URL schemes: the <code class="highlighter-rouge">path</code> segment that CDN uses to locate the file to be served. In the Path URL scheme it comes after all the parameters and in the Querystring URL scheme it’s between the <a href="#dynamic-sources">dynamic source parameter</a> (if used) and the querystring.</p>

<p>Ignoring the parameters for a moment, the following sections explain how CDN locates your files for each source.</p>

<h5 id="amazon-s3-source">Amazon S3 source</h5>

<p>When you connect CDN to an Amazon S3 source, the <code class="highlighter-rouge">path</code> in the URL is used to locate the file within the S3 bucket you specified in the configuration file.</p>

<p>Depending on the region in your configuration, CDN might construct a URL similar to one the following:</p>

<ul>
  <li>region <code class="highlighter-rouge">us-east-1</code>: http://bucket.s3.amazonaws.com</li>
  <li>any other region: http://bucket.s3-aws-region.amazonaws.com</li>
</ul>

<p>In the following example CDN will attempt to load the image from the <code class="highlighter-rouge">S3 URL</code> shown in the final column:</p>

<div class="code-callout">
  <code>https://</code>
  <span class="callout">
    <code>cdn.example.com</code>
    <span class="definition">CDN domain</span>
  </span>
  <code>/</code>
  <span class="callout">
    <code>...</code>
    <span class="definition">parameters omitted</span>
  </span>
  <code>/</code>
  <span class="callout">
    <code>cars/aston-martin.jpg</code>
    <span class="definition">path</span>
  </span>
</div>

<table>
  <thead>
    <tr>
      <th>Bucket</th>
      <th>Region</th>
      <th>URL</th>
      <th>S3 URL</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">my-images</code></td>
      <td><code class="highlighter-rouge">eu-west-1</code></td>
      <td><code class="highlighter-rouge">cars/aston-martin.jpg</code></td>
      <td><code class="highlighter-rouge">http://my-images.s3-eu-west-1.amazonaws.com/cars/aston-martin.jpg</code></td>
    </tr>
  </tbody>
</table>

<h5 id="remote-server-source">Remote Server source</h5>

<p>When you connect CDN to a Remote Server source, the <code class="highlighter-rouge">path</code> in the URL is added to the <code class="highlighter-rouge">path</code> you specified in the configuration file, resulting in a remote URL (which must be publicly accessible).</p>

<p>In the following example CDN will attempt to load the image from the <code class="highlighter-rouge">Remote Location</code> shown in the final column:</p>

<div class="code-callout">
  <code>https://</code>
  <span class="callout">
    <code>cdn.example.com</code>
    <span class="definition">CDN domain</span>
  </span>
  <code>/</code>
  <span class="callout">
    <code>...</code>
    <span class="definition">parameters omitted</span>
  </span>
  <code>/</code>
  <span class="callout">
    <code>cars/aston-martin.jpg</code>
    <span class="definition">path</span>
  </span>
</div>

<table>
  <thead>
    <tr>
      <th>Configuration</th>
      <th>URL</th>
      <th>Remote Location</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">"path": "http://media.example.com/public/images"</code></td>
      <td><code class="highlighter-rouge">cars/aston-martin.jpg</code></td>
      <td><code class="highlighter-rouge">http://media.example.com/public/images/cars/aston-martin.jpg</code></td>
    </tr>
  </tbody>
</table>

<h5 id="local-filesystem-source">Local Filesystem source</h5>

<p>When you connect CDN to a Local Filesystem source, the <code class="highlighter-rouge">path</code> in the URL is relative to the <code class="highlighter-rouge">path</code> you specified in the configuration file.</p>

<p>In the following example CDN will look in the <code class="highlighter-rouge">File Location</code> shown in the final column:</p>

<div class="code-callout">
  <code>https://</code>
  <span class="callout">
    <code>cdn.example.com</code>
    <span class="definition">CDN domain</span>
  </span>
  <code>/</code>
  <span class="callout">
    <code>...</code>
    <span class="definition">parameters omitted</span>
  </span>
  <code>/</code>
  <span class="callout">
    <code>cars/aston-martin.jpg</code>
    <span class="definition">path</span>
  </span>
</div>

<table>
  <thead>
    <tr>
      <th>Configuration</th>
      <th>URL</th>
      <th>File Location</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">"path": "/data/media/images"</code></td>
      <td><code class="highlighter-rouge">cars/aston-martin.jpg</code></td>
      <td><code class="highlighter-rouge">/data/media/images/cars/aston-martin.jpg</code></td>
    </tr>
  </tbody>
</table>

<h3 id="dynamic-sources">Dynamic Sources</h3>

<p>Adding a <code class="highlighter-rouge">source</code> parameter to the request URL allows you to specify which connected source CDN serves your asset or image from. This feature allows you to store assets and images in multiple places and serve them all from a single CDN installation.</p>

<p>When you add a <code class="highlighter-rouge">source</code> parameter CDN reads the standard configuration block for that source, but ignores the <code class="highlighter-rouge">enabled</code> property. By specifying it in the URL you’re essentially saying “it’s enabled”.</p>

<blockquote>
  <p><strong>Note:</strong> Sources can only be specified in the URL if using the Querystring URL scheme. When using the Path URL scheme a single source can be configured for use at any one time.</p>
</blockquote>

<p>For each of the below source types, refer to the <a href="#locating-files">Locating Files</a> section above to understand how CDN interprets the path to your files.</p>

<h4 id="specifying-an-amazon-s3-source-in-the-url">Specifying an Amazon S3 source in the URL</h4>

<div class="code-callout">
  <code>https://</code>
  <span class="callout">
    <code>cdn.example.com</code>
    <span class="definition">CDN domain</span>
  </span>
  <code>/</code>
  <span class="callout">
    <code>s3</code>
    <span class="definition">source</span>
  </span>
  <code>/</code>
  <span class="callout">
    <code>images</code>
    <span class="definition">bucket</span>
  </span>
  <code>/</code>
  <span class="callout">
    <code>cars/aston-martin.jpg</code>
    <span class="definition">path</span>
  </span>
  <code>?</code>
  <span class="callout">
    <code>width=600&amp;height=400</code>
    <span class="definition">querystring</span>
  </span>
</div>

<h4 id="specifying-a-remote-server-source-in-the-url">Specifying a Remote Server source in the URL</h4>

<div class="code-callout">
  <code>https://</code>
  <span class="callout">
    <code>cdn.example.com</code>
    <span class="definition">CDN domain</span>
  </span>
  <code>/</code>
  <span class="callout">
    <code>http</code>
    <span class="definition">source</span>
  </span>
  <code>/</code>
  <span class="callout">
    <code>cars/aston-martin.jpg</code>
    <span class="definition">path</span>
  </span>
  <code>?</code>
  <span class="callout">
    <code>width=600&amp;height=400</code>
    <span class="definition">querystring</span>
  </span>
</div>

<h4 id="specifying-a-local-filesystem-source-in-the-url">Specifying a Local Filesystem source in the URL</h4>

<div class="code-callout">
  <code>https://</code>
  <span class="callout">
    <code>cdn.example.com</code>
    <span class="definition">CDN domain</span>
  </span>
  <code>/</code>
  <span class="callout">
    <code>disk</code>
    <span class="definition">source</span>
  </span>
  <code>/</code>
  <span class="callout">
    <code>cars/aston-martin.jpg</code>
    <span class="definition">path</span>
  </span>
  <code>?</code>
  <span class="callout">
    <code>width=600&amp;height=400</code>
    <span class="definition">querystring</span>
  </span>
</div>

<h3 id="serving-assets">Serving Assets</h3>

<h4 id="css">CSS</h4>

<div class="code-callout">
  <code>https://</code>
  <span class="callout">
    <code>cdn.example.com</code>
    <span class="definition">CDN domain</span>
  </span>
  <code>/</code>
  <span class="callout">
    <code>css</code>
    <span class="definition">format</span>
  </span>
  <code>/</code>
  <span class="callout">
    <code>0</code>
    <span class="definition">compress</span>
  </span>
  <code>/</code>
  <span class="callout">
    <code>styles/main.css</code>
    <span class="definition">path</span>
  </span>
</div>

<div class="code-callout">
  <code>https://</code>
  <span class="callout">
    <code>cdn.example.com</code>
    <span class="definition">CDN domain</span>
  </span>
  <code>/</code>
  <span class="callout">
    <code>styles/main.css</code>
    <span class="definition">path</span>
  </span>
  <code>?</code>
  <span class="callout">
    <code>compress=0</code>
    <span class="definition">querystring</span>
  </span>
</div>

<h4 id="javascript">Javascript</h4>

<div class="code-callout">
  <code>https://</code>
  <span class="callout">
    <code>cdn.example.com</code>
    <span class="definition">CDN domain</span>
  </span>
  <code>/</code>
  <span class="callout">
    <code>js</code>
    <span class="definition">format</span>
  </span>
  <code>/</code>
  <span class="callout">
    <code>0</code>
    <span class="definition">compress</span>
  </span>
  <code>/</code>
  <span class="callout">
    <code>js/main.js</code>
    <span class="definition">path</span>
  </span>
</div>

<div class="code-callout">
  <code>https://</code>
  <span class="callout">
    <code>cdn.example.com</code>
    <span class="definition">CDN domain</span>
  </span>
  <code>/</code>
  <span class="callout">
    <code>js/main.js</code>
    <span class="definition">path</span>
  </span>
  <code>?</code>
  <span class="callout">
    <code>compress=0</code>
    <span class="definition">querystring</span>
  </span>
</div>

<h4 id="fonts">Fonts</h4>

<div class="code-callout">
  <code>https://</code>
  <span class="callout">
    <code>cdn.example.com</code>
    <span class="definition">CDN domain</span>
  </span>
  <code>/</code>
  <span class="callout">
    <code>fonts</code>
    <span class="definition">format</span>
  </span>
  <code>/</code>
  <span class="callout">
    <code>site/museo-sans.ttf</code>
    <span class="definition">path</span>
  </span>
</div>

<h2 id="applying-parameters-to-images">Applying Parameters to Images</h2>

<p>Now that you have your <a href="x">sources</a> configured and have decided on the URL scheme you’re going to use, you can start applying parameters to manipulate your images.</p>

<p>We’ll show a basic example, then it’s over to you to experiment with the parameters to match your requirements. For a full list of available parameters, see the <a href="x">URL API Guide</a>.</p>

<h3 id="basic-parameter-example">Basic Parameter Example</h3>

<p>For this example we’re going to imagine you have a magazine-style website with a list of articles on the homepage and an article page. We’ll start with the following image, which your editor wants to use as the main article image.</p>

<p><code class="highlighter-rouge">https://cdn.example.com/images/man-walking-on-beach.jpg</code></p>

<p><strong>Original image, 5616 × 3744 px, 4MB</strong></p>

<p><img src="assets/original.jpeg" alt="Original image, 5616 × 3744 px, 4MB" title="Image credit: Danielle MacInnes (https://unsplash.com/@dsmacinnes)" /></p>

<p>This is a large image, and it’s not going to fit easily into the two spaces we have available for it. Unfortunately, no one in the department knows how to use Adobe Photoshop to make appropriately sized images. Fortunately, CDN can handle this task for you.</p>

<h4 id="resizing-and-cropping">Resizing and Cropping</h4>

<p>On the article page, let’s assume your main image spot is a 500×300 pixel container. It’s an odd size, but illustrates this concept well. To fit the base image into that container, we’ll need to change the dimensions and crop some data from the top and bottom.</p>

<p>To adjust the image we need to specify the new width and height, as well as tell CDN how we want to crop the image.</p>

<p><code class="highlighter-rouge">https://cdn.example.com/images/man-walking-on-beach.jpg?w=500&amp;h=300&amp;crop=entropy</code></p>

<ul>
  <li>
    <p><code class="highlighter-rouge">width=500&amp;height=300</code>: Sets the width and height to fit the container.</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">crop=entropy</code>: Tells CDN how to determine the crop area. <code class="highlighter-rouge">entropy</code> is a smart cropping feature that adjusts the crop area to ensure the important part of your image is retained. It uses areas of high contrast to set the crop area.</p>
  </li>
</ul>

<p><strong>Resized image, 500 × 300 px, 98kB</strong></p>

<p><img src="assets/entropy-500x300.jpeg" alt="Resized image, 500 × 300 px, 98kB" title="Image credit: Danielle MacInnes (https://unsplash.com/@dsmacinnes)" /></p>

<p>Now, on the homepage page, let’s assume each feature article has an image container that is 200×200 pixels. With the main subject of the image so close to the right, we’ll once again need to tell CDN how we want the image cropped.</p>

<p><code class="highlighter-rouge">https://cdn.example.com/images/man-walking-on-beach.jpg?w=200&amp;h=200&amp;crop=entropy</code></p>

<p><strong>Resized image, 200 × 200 px, 29kB</strong></p>

<p><img src="assets/entropy-200x200.jpeg" alt="Resized image, 200 × 200 px, 29kB" title="Image credit: Danielle MacInnes (https://unsplash.com/@dsmacinnes)" /></p>

<p>If we don’t specify <code class="highlighter-rouge">entropy</code> as the <code class="highlighter-rouge">crop</code> parameter, CDN defaults to using <code class="highlighter-rouge">aspectfill</code> and our image would look a little different, with the main subject almost excluded from the image.</p>

<p><code class="highlighter-rouge">https://cdn.example.com/images/man-walking-on-beach.jpg?w=200&amp;h=200</code></p>

<p><img src="assets/aspectfill-200x200.jpeg" alt="Aspectfill, 200 × 200 px, 29kB" title="Image credit: Danielle MacInnes (https://unsplash.com/@dsmacinnes)" /></p>

<h2 id="next-steps">Next Steps</h2>

<p>Resizing and cropping are just the beginning. CDN helps you to serve assets and images to your customers easier and faster, giving you complete control over how they are served.</p>

<ul>
  <li>API URL Guide</li>
  <li>Recipes - Setting default parameters</li>
  <li>Tutorials</li>
</ul>


	  <footer class="c-footer">
  <div class="u-cols u-wrapper">
    <div class="u-col u-col--1-2 u-col--1-4@medium u-padding">
      <h3 class="c-footer__title">Client engagement</h3>
      <p class="epsilon"><a href="mailto:makesomething@dadi.tech">makesomething@dadi.tech</a><br>
      +44 (0) 20 7205 2902</p>
    </div>
    <div class="u-col u-col--1-2 u-col--1-4@medium u-padding">
      <h3 class="c-footer__title">Media enquiries</h3>
      <p class="epsilon"><a href="mailto:press@dadi.tech">press@dadi.tech</a><br>
      +44 (0) 20 7205 2901</p>
    </div>
    <div class="u-col u-col--1-2 u-col--1-4@medium u-padding">
      <h3 class="c-footer__title">Careers</h3>
      <p class="epsilon"><a href="mailto:joinus@dadi.tech">joinus@dadi.tech</a><br>
      +44 (0) 20 7205 2903</p>
    </div>
    <div class="u-col u-col--1-2 u-col--1-4@medium u-padding">
      <h3 class="c-footer__title">Everything else</h3>
      <p class="epsilon"><a href="mailto:hi@dadi.tech">hi@dadi.tech</a><br>
      +44 (0) 20 7205 2900<br>
      <a href="http://twitter.com/dadi">@dadi</a></p>
    </div>
  </div>

  <div class="u-wrapper u-padding">
    <img src="/public/assets/img/dadi-full.png" height="24">
  </div>
</footer>

	</body>
</html>